{"version":3,"sources":["components/SearchBar.js","components/Spinner.js","components/JobDetails.js","components/App.js","index.js"],"names":["SearchBar","state","term","extractJobId","setState","split","replace","onFormSubmit","e","preventDefault","props","onSearchSubmit","className","action","onSubmit","this","type","placeholder","value","onChange","target","React","Component","Spinner","JobDetails","advertiserName","title","salaryMin","salaryMax","searchIsComplete","searchIsRunning","Math","round","toLocaleString","axios","require","default","App","jobId","advertiserId","titleEncoded","teaser","lowerLimit","upperLimit","salaryVar","a","resetSearch","getJobInfo","then","response","setJobInfo","findMaximum","findMinimum","console","log","Promise","resolve","reject","get","process","data","advertiser","id","description","encodeURI","i","totalCount","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.81d74bb6.chunk.js","sourcesContent":["import React from \"react\";\n\nclass SearchBar extends React.Component {\n  state = {\n    term: \"\"\n  };\n\n  extractJobId = term => {\n    this.setState({\n      term: term.split(\"?\")[0]\n    });\n    return term.split(\"?\")[0].replace(/[^0-9]/g, \"\");\n  };\n\n  onFormSubmit = e => {\n    e.preventDefault();\n    this.props.onSearchSubmit(this.extractJobId(this.state.term));\n  };\n\n  render() {\n    return (\n      <div className=\"SearchBar\">\n        <form action=\"\" onSubmit={this.onFormSubmit}>\n          <div>\n            <input\n              type=\"text\"\n              placeholder=\"Paste the URL for the job listing in here\"\n              value={this.state.term}\n              onChange={e => this.setState({ term: e.target.value })}\n            />\n            <input type=\"submit\" value=\"Calculate Salary Range\" />\n          </div>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default SearchBar;\n","import React from \"react\";\n\nconst Spinner = () => {\n  return (\n    <div className=\"lds-roller\">\n      <div></div>\n      <div></div>\n      <div></div>\n      <div></div>\n      <div></div>\n      <div></div>\n      <div></div>\n      <div></div>\n    </div>\n  );\n};\n\nexport default Spinner;\n","import React from \"react\";\nimport Spinner from \"./Spinner\";\n\nconst JobDetails = ({\n  advertiserName,\n  title,\n  salaryMin,\n  salaryMax,\n  searchIsComplete,\n  searchIsRunning\n}) => {\n  salaryMin = (Math.round(salaryMin / 500) * 500).toLocaleString(); // Round to nearest $500\n  salaryMax = (Math.round(salaryMax / 500) * 500).toLocaleString();\n\n  return (\n    <div className=\"JobDetails\">\n      {/* {searchIsComplete ? \"searchIsComplete true\" : \"searchIsComplete false\"}\n      {searchIsRunning ? \"searchIsRunning true\" : \"searchIsRunning false\"} */}\n\n      <div className=\"salary\">\n        {searchIsRunning && (\n          <>\n            <div className=\"spinner\">\n              <Spinner />\n            </div>\n\n            <span>Reticulating Splines... </span>\n          </>\n        )}\n        {searchIsComplete && (\n          <>\n            <span className=\"lower\">${salaryMin}</span> -{\" \"}\n            <span className=\"upper\">${salaryMax}</span>\n          </>\n        )}\n      </div>\n\n      <div className=\"description\">\n        <span className=\"title\">{title}</span>\n        <span className=\"advertiserName\">{advertiserName}</span>\n      </div>\n    </div>\n  );\n};\n\nexport default JobDetails;\n","import React from \"react\";\nimport SearchBar from \"./SearchBar\";\nimport JobDetails from \"./JobDetails\";\nimport \"./styles.scss\";\nconst axios = require(\"axios\").default;\n\nclass App extends React.Component {\n  state = {\n    jobId: \"\",\n    advertiserId: \"\",\n    advertiserName: \"\",\n    title: \"\",\n    titleEncoded: \"\",\n    teaser: \"\",\n    lowerLimit: \"\",\n    upperLimit: \"\",\n    salaryVar: \"\",\n    salaryMin: \"\",\n    salaryMax: \"\",\n    searchIsComplete: false,\n    searchIsRunning: false\n  };\n\n  componentDidMount() {\n    this.resetSearch();\n  }\n\n  onSearchSubmit = async term => {\n    this.resetSearch();\n    this.setState({ searchIsRunning: true, jobId: term });\n    await this.getJobInfo(term).then(response => this.setJobInfo(response));\n    await this.findMaximum();\n    await this.findMinimum();\n  };\n  resetSearch = () => {\n    console.log(`resetSearch`);\n    this.setState(\n      {\n        advertiserId: \"\",\n        advertiserName: \"\",\n        title: \"\",\n        teaser: \"\",\n        lowerLimit: 0,\n        upperLimit: 200000,\n        salaryVar: 0,\n        salaryMin: \"\",\n        salaryMax: \"\",\n        searchIsComplete: false,\n        searchIsRunning: false\n      },\n      () => {\n        this.setState({\n          salaryVar:\n            this.state.lowerLimit +\n            (this.state.upperLimit - this.state.lowerLimit) / 2\n        });\n      }\n    );\n  };\n  getJobInfo = term => {\n    console.log(`getJobInfo`);\n    return new Promise((resolve, reject) => {\n      const response = axios.get(\n        `${process.env.REACT_APP_EXPRESS_SERVER}/job-info/${term}`\n      );\n      resolve(response);\n    });\n  };\n  setJobInfo = response => {\n    console.log(`setJobInfo`);\n    const advertiserId = response.data.data[0].advertiser.id;\n    const advertiserName = response.data.data[0].advertiser.description;\n    const title = response.data.data[0].title;\n    const titleEncoded = encodeURI(\n      response.data.data[0].title.replace(/[^a-zA-Z ]/g, \" \")\n    );\n    const teaser = encodeURI(\n      response.data.data[0].teaser\n        .replace(/ not /gi, \" \") // remove 'not' from teaser as Seek API has boolean enabled\n        .replace(/[^a-zA-Z ]/g, \" \") // remove special chars/only keep alpha chars\n    );\n    // const teaser = encodeURI(\n    //   response.data.data[0].teaser.replace(/[^a-zA-Z ]/g, \" \")\n    // ).substring(0, 180);\n    // hello knot not notting hill\n\n    this.setState({\n      advertiserId,\n      advertiserName,\n      title,\n      titleEncoded,\n      teaser\n    });\n  };\n  findMaximum = async () => {\n    console.log(`findMaximum`);\n    for (let i = 0; i < 15; i++) {\n      const response = await axios.get(\n        `${process.env.REACT_APP_EXPRESS_SERVER}/salary-range/${\n          this.state.advertiserId\n        }/${Math.round(this.state.salaryVar)}/${Math.round(\n          this.state.upperLimit\n        )}/${this.state.titleEncoded}%20${this.state.teaser}`\n      );\n      if (response.data.totalCount >= 1) {\n        this.setState({\n          lowerLimit: this.state.salaryVar,\n          salaryVar:\n            this.state.salaryVar +\n            (this.state.upperLimit - this.state.salaryVar) / 2\n        });\n      } else if (response.data.totalCount === 0) {\n        this.setState({\n          upperLimit: this.state.salaryVar,\n          salaryVar:\n            this.state.salaryVar -\n            (this.state.salaryVar - this.state.lowerLimit) / 2\n        });\n      } else {\n        console.log(\"Multiple job listings found\");\n      }\n    }\n    this.setState({\n      salaryMax: this.state.salaryVar\n    });\n  };\n  findMinimum = async () => {\n    console.log(`findMinimum`);\n    // Setup state to search for minimum\n    this.setState(\n      {\n        lowerLimit: 0,\n        upperLimit: this.state.salaryMax,\n        salaryVar:\n          this.state.lowerLimit +\n          (this.state.upperLimit - this.state.lowerLimit) / 2\n      },\n      async () => {\n        for (let i = 0; i < 10; i++) {\n          const response = await axios.get(\n            `${process.env.REACT_APP_EXPRESS_SERVER}/salary-range/${\n              this.state.advertiserId\n            }/${Math.round(this.state.lowerLimit)}/${Math.round(\n              this.state.salaryVar\n            )}/${this.state.titleEncoded}%20${this.state.teaser}`\n          );\n          if (\n            response.data.totalCount >= 1\n            // && response.data.data.find(item => item.id === parseInt(this.state.jobId, 10))\n          ) {\n            this.setState({\n              upperLimit: this.state.salaryVar,\n              salaryVar:\n                this.state.salaryVar -\n                (this.state.salaryVar - this.state.lowerLimit) / 2\n            });\n          } else if (response.data.totalCount === 0) {\n            this.setState({\n              lowerLimit: this.state.salaryVar,\n              salaryVar:\n                this.state.salaryVar +\n                (this.state.upperLimit - this.state.salaryVar) / 2\n            });\n          } else {\n            console.log(\"Multiple job listings found\");\n          }\n        }\n        this.setState({\n          salaryMin: this.state.salaryVar,\n          searchIsComplete: true,\n          searchIsRunning: false\n        });\n      }\n    );\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        <h1>Seek Salary Calculator</h1>\n        <SearchBar onSearchSubmit={this.onSearchSubmit} />\n        <JobDetails\n          advertiserName={this.state.advertiserName}\n          title={this.state.title}\n          salaryMin={this.state.salaryMin}\n          salaryMax={this.state.salaryMax}\n          searchIsComplete={this.state.searchIsComplete}\n          searchIsRunning={this.state.searchIsRunning}\n        />\n      </div>\n    );\n  }\n}\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}